# 首次初始化资源（必做）

适用场景：新机器首次克隆仓库、或在新的 Codex 对话窗口快速接手项目。

## 1. 克隆并确认分支

```bash
git clone https://github.com/yuelangmanle/plankton.git
cd plankton
git checkout main
```

## 2. 确认模板资源（已内置、已脱敏）

必须存在以下两个模板文件：

- `android/app/src/main/assets/templates/table1.xlsx`
- `android/app/src/main/assets/templates/table2.xlsx`

说明：

- 这两个文件已清空真实数据，只保留模板结构供导出使用。
- 其他真实业务表格（根目录 `表1.xlsx`、`表2.xlsx`、`表三.xlsx` 等）不进入版本管理。

## 3. Web 端初始化

```bash
cd app
npm install
npm run dev
```

可选：

- `npm run build`
- `npm run lint`

## 4. Android 主应用初始化

要求：JDK 17、Android SDK（API 34+）、Gradle 环境可用。

```bash
cd android
./gradlew :app:assembleDebug
```

Windows PowerShell 可用：

```powershell
.\gradlew.bat :app:assembleDebug
```

## 5. 语音助手初始化（按需）

```bash
cd voice_assistant
./gradlew :app:assembleDebug
```

说明：

- 语音模型目录默认不随仓库分发（体积过大）。
- 若要完整启用语音模型能力，需要额外放置模型资源到约定目录（见项目文档）。

## 6. 文档与加密资源同步（改文档后执行）

```powershell
powershell -ExecutionPolicy Bypass -File tools\update_docs_and_encrypt.ps1
```

## 7. 常见自检

- 模板存在：`android/app/src/main/assets/templates/table1.xlsx`、`table2.xlsx`
- Git 干净：`git status`
- 远程正常：`git remote -v`

